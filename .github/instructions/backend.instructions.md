---
applyTo: "backend,iac"
---

# Kanji-Log ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæŒ‡ç¤ºæ›¸

## ğŸ¯ é–‹ç™ºç›®æ¨™ã¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç†å¿µ

Kanji-Log ã¯ã€Œé£²ã¿ä¼šå¹¹äº‹ã®å¿ƒç†çš„è² æ‹…è»½æ¸›ã€ã‚’ç›®æŒ‡ã™ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºã«ãŠã„ã¦ã€ã“ã®ç›®æ¨™ã‚’æŠ€è¡“é¢ã‹ã‚‰æ”¯ãˆã‚‹ä»¥ä¸‹ã®ä¾¡å€¤è¦³ã‚’é‡è¦–ã—ã¾ã™ï¼š

- **ä¿¡é ¼æ€§**: å¹¹äº‹ãŒå®‰å¿ƒã—ã¦ä½¿ãˆã‚‹å …ç‰¢ãªã‚·ã‚¹ãƒ†ãƒ 
- **ä¿å®ˆæ€§**: AWS/Go åˆå¿ƒè€…ã§ã‚‚ç†è§£ãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å¯èƒ½
- **æ‹¡å¼µæ€§**: å°†æ¥çš„ãªæ©Ÿèƒ½è¿½åŠ ã«å¯¾å¿œã§ãã‚‹è¨­è¨ˆ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: å€‹äººæƒ…å ±ã‚’é©åˆ‡ã«ä¿è­·

---

## ğŸ“‹ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ğŸ”„ åŸºæœ¬é–‹ç™ºã‚µã‚¤ã‚¯ãƒ«

1. **è¦ä»¶ç†è§£**

   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‹ã‚‰æŠ€è¡“è¦ä»¶ã‚’æŠ½å‡º
   - API ä»•æ§˜æ›¸ã§ã®è©³ç´°ç¢ºèª
   - æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

2. **è¨­è¨ˆãƒ»å®Ÿè£…**

   - ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®å®šç¾©
   - ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
   - ãƒªãƒã‚¸ãƒˆãƒªå±¤ã®å®Ÿè£…

3. **ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤**

   - ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å˜ä½“ãƒ†ã‚¹ãƒˆ
   - Makefile ã§ã®ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
   - API Gateway çµŒç”±ã§ã®çµ±åˆãƒ†ã‚¹ãƒˆ

4. **è¨˜éŒ²ãƒ»æŒ¯ã‚Šè¿”ã‚Š**
   - `docs/log/task-{ç•ªå·}.md`ã¸ã®è¨˜éŒ²
   - å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆã®æ•´ç†
   - æ¬¡å›ã¸ã®æ”¹å–„ç‚¹æŠ½å‡º

### ğŸ› ï¸ æ¨å¥¨é–‹ç™ºãƒ•ãƒ­ãƒ¼

```bash
# 1. æ©Ÿèƒ½è¦ä»¶ã®ç¢ºèª
code docs/task/task-XXX.md

# 2. å®Ÿè£…é–‹å§‹
mkdir -p cmd/api/new-feature
code cmd/api/new-feature/main.go

# 3. ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆ
make build lambda=new-feature
make dev-deploy lambda=new-feature
make test-api

# 4. ä½œæ¥­ãƒ­ã‚°è¨˜éŒ²
code docs/log/task-XXX.md
```

### é–‹ç™ºãƒ•ãƒ­ãƒ¼ï¼ˆTask-002a ã§æ”¹å–„æ¸ˆã¿ï¼‰

- **Makefile ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ç”¨ã‚’æ¨å¥¨**: é–‹ç™ºåŠ¹ç‡å‘ä¸Šã®ãŸã‚ã€`backend/Makefile`ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å„ªå…ˆä½¿ç”¨ã™ã‚‹
  ```bash
  # åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰
  make help                          # ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
  make build lambda=<function-name>  # Lambdaé–¢æ•°ãƒ“ãƒ«ãƒ‰
  make deploy                        # Terraformãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆç¢ºèªã‚ã‚Šï¼‰
  make dev-deploy lambda=<function>  # ãƒ“ãƒ«ãƒ‰+ãƒ‡ãƒ—ãƒ­ã‚¤ä¸€æ‹¬å®Ÿè¡Œ
  make test-api                      # APIå‹•ä½œç¢ºèª
  make clean                         # ãƒ“ãƒ«ãƒ‰æˆæœç‰©å‰Šé™¤
  ```
- **æ±ç”¨ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ´»ç”¨**: `./scripts/build.sh <function-name>`ã§ä»»æ„ã®é–¢æ•°ã‚’ãƒ“ãƒ«ãƒ‰å¯èƒ½
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æ´»ç”¨**: å¼•æ•°ä¸è¶³ã‚„é–¢æ•°æœªå­˜åœ¨æ™‚ã®é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèªã™ã‚‹

### ã‚³ãƒ¼ãƒ‰å“è³ªãƒ»ä¿å®ˆæ€§

- **è©³ç´°ã‚³ãƒ¡ãƒ³ãƒˆã®å¿…é ˆåŒ–**: AWS/ã‚¤ãƒ³ãƒ•ãƒ©ã«æ…£ã‚Œã¦ã„ãªã„æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã€å…¨ã¦ã®ã‚³ãƒ¼ãƒ‰ã«è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹
  - ãƒªã‚½ãƒ¼ã‚¹ã®ç›®çš„ãƒ»å½¹å‰²ã®èª¬æ˜
  - è¨­å®šå€¤ã®é¸æŠç†ç”±
  - å¹¹äº‹ãƒŠãƒ“ã§ã®å…·ä½“çš„ãªä½¿ç”¨å ´é¢
  - ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …
- **ä½œæ¥­ãƒ­ã‚°ã®è¨˜éŒ²ç¾©å‹™**: å…¨ã¦ã®ã‚¿ã‚¹ã‚¯ä½œæ¥­ã¯ `docs/log/task-{ç•ªå·}.md` ã«è©³ç´°è¨˜éŒ²ã™ã‚‹
  - å®Ÿè¡Œã—ãŸã‚³ãƒãƒ³ãƒ‰ï¼ˆå†ç¾å¯èƒ½ãªå½¢ã§ï¼‰
  - ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ–¹æ³•
  - ä½œæˆãƒ»ä¿®æ­£ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
  - å‹•ä½œç¢ºèªçµæœ
  - æ¬¡ã‚¿ã‚¹ã‚¯ã¸ã®å¼•ãç¶™ãäº‹é …
  - å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆãƒ»æ°—ã¥ã

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆåŸå‰‡

### ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Gateway       â”‚ â† ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä»˜ãƒ»èªè¨¼ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Handler Layer     â”‚ â† ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ«
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Repository Layer  â”‚ â† ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ»æ°¸ç¶šåŒ–
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Domain Layer      â”‚ â† ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ»ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆæ–¹é‡

1. **cmd/api/{function-name}**: å„ Lambda é–¢æ•°ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ

   - API Gateway ã¨ã®é€£æºå‡¦ç†
   - ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å¤‰æ›
   - èªè¨¼æƒ…å ±ã®å–å¾—ã¨æ¤œè¨¼

2. **internal/handler**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤

   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
   - ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ«é©ç”¨
   - å¤–éƒ¨ API å‘¼ã³å‡ºã—
   - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†

3. **internal/repository**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤

   - DynamoDB æ“ä½œã®æŠ½è±¡åŒ–
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
   - æ¥ç¶šç®¡ç†

4. **internal/domain**: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
   - ãƒ“ã‚¸ãƒã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å®šç¾©
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
   - ãƒ‰ãƒ¡ã‚¤ãƒ³ä¸å¤‰é‡

---

## ğŸ¯ æ–°ã—ã„ Lambda é–¢æ•°è¿½åŠ æ‰‹é †

### 1. ğŸ§  è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚º

```bash
# APIä»•æ§˜ã®ç¢ºèª
code docs/api-detailed-specs.md

# TypeScriptå‹å®šç¾©ã®ç¢ºèªï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ã®é€£æºï¼‰
code docs/typescript-types.md
```

### 2. ğŸ”§ å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

#### ã‚¹ãƒ†ãƒƒãƒ— 1: é–¢æ•°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ

```bash
mkdir -p cmd/api/{function-name}
code cmd/api/{function-name}/main.go
```

#### ã‚¹ãƒ†ãƒƒãƒ— 2: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«å®šç¾©ï¼ˆå¿…è¦æ™‚ï¼‰

```bash
code internal/domain/{domain-name}.go
```

#### ã‚¹ãƒ†ãƒƒãƒ— 3: ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…

```bash
code internal/handler/{domain-name}.go
```

#### ã‚¹ãƒ†ãƒƒãƒ— 4: ãƒªãƒã‚¸ãƒˆãƒªå®Ÿè£…ï¼ˆå¿…è¦æ™‚ï¼‰

```bash
code internal/repository/{domain-name}.go
```

### 3. ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ•ã‚§ãƒ¼ã‚º

#### ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

```bash
make build lambda={function-name}
```

#### ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ

```bash
# æˆæœç‰©ç¢ºèª
ls -la {function-name}-lambda.zip

# ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºç¢ºèªï¼ˆ5MBä»¥ä¸‹ãŒç†æƒ³ï¼‰
du -h {function-name}-lambda.zip
```

#### ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ

```bash
make dev-deploy lambda={function-name}
make test-api
```

### 4. ğŸ—ï¸ ã‚¤ãƒ³ãƒ•ãƒ©è¨­å®š

#### Terraform è¨­å®šè¿½åŠ 

`iac/environments/dev/main.tf`ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```hcl
module "{function_name}_lambda" {
  source        = "../../modules/lambda"
  function_name = "kanji-log-{function-name}"
  environment   = "dev"
  role_arn      = module.iam.lambda_execution_role_arn
  source_file   = "../../../backend/{function-name}-lambda.zip"

  # ç’°å¢ƒå¤‰æ•°ï¼ˆå¿…è¦æ™‚ï¼‰
  environment_variables = {
    TABLE_NAME = module.dynamodb.table_name
  }
}
```

#### API Gateway çµ±åˆ

`iac/modules/api_gateway/main.tf`ã«å¯¾å¿œã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### 1. èªè¨¼ (Authentication) ã¨èªå¯ (Authorization)

- **èªè¨¼ã¯ Cognito ã«ä¸€ä»»ã›ã‚ˆ:** èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’è‡ªå‰ã§å®Ÿè£…ã™ã‚‹ãªã€‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ã€ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã€MFAã€SNS é€£æºã¯ã™ã¹ã¦ Cognito ã®è²¬å‹™ã¨ã™ã‚‹ã€‚
- **API Gateway ã§èªè¨¼ã‚’å¼·åˆ¶ã›ã‚ˆ:** å…¨ã¦ã®æ©Ÿå¯† API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ã€API Gateway ã® Cognito ã‚ªãƒ¼ã‚½ãƒ©ã‚¤ã‚¶ãƒ¼ã§ä¿è­·ã—ã€æœªèªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ Lambda ã«åˆ°é”ã™ã‚‹å‰ã«ãƒ–ãƒ­ãƒƒã‚¯ã›ã‚ˆã€‚
- **èªå¯ã¯ Lambda ã®è²¬å‹™ã§ã‚ã‚‹:** Lambda é–¢æ•°å†…ã§ã¯ã€èªè¨¼ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆ`sub`ï¼‰ãŒã€æ“ä½œå¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆä¾‹: `eventId`ï¼‰ã«å¯¾ã—ã¦ä½•ã‚’ã—ã¦è‰¯ã„ã‹ï¼ˆèªå¯ï¼‰ã‚’å¿…ãšæ¤œè¨¼ã›ã‚ˆã€‚ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ A ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ B ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã§ããªã„ã‹ï¼Ÿã€ã‚’å¸¸ã«å•ã„ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§ãƒã‚§ãƒƒã‚¯ã›ã‚ˆã€‚

### 2. å…¥åŠ›å€¤ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

- **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å¿…ãšæ¤œè¨¼ã›ã‚ˆ:** ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®å…¥åŠ›ã¯ä¸€åˆ‡ä¿¡ç”¨ã™ã‚‹ãªã€‚API Gateway ã®ãƒ¢ãƒ‡ãƒ«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãŠã‚ˆã³ Lambda é–¢æ•°å†’é ­ã§ã€å…¨ã¦ã®å…¥åŠ›å€¤ï¼ˆãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã‚¯ã‚¨ãƒªã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ï¼‰ã®å‹ã€å½¢å¼ã€ç¯„å›²ã‚’å³å¯†ã«æ¤œè¨¼ã›ã‚ˆã€‚
- **ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã§ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã›ã‚ˆ:** å…¨ã¦ã®å…¥åŠ›ã¯æ”»æ’ƒã§ã‚ã‚‹ã¨ä»®å®šã—ã€å‡ºåŠ›ï¼ˆç‰¹ã« HTML ã‚„ãƒ­ã‚°ï¼‰ã«å«ã‚ã‚‹éš›ã¯å¿…ãšã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã¾ãŸã¯ã‚µãƒ‹ã‚¿ã‚¤ã‚ºå‡¦ç†ã‚’è¡Œãˆã€‚

### 3. æ¨©é™ç®¡ç† (IAM)

- **æœ€å°æ¨©é™ã®åŸå‰‡ã‚’å¾¹åº•ã›ã‚ˆ:** å„ Lambda é–¢æ•°ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Role ã«ã¯ã€ãã®é–¢æ•°ãŒå¿…è¦ã¨ã™ã‚‹æœ€å°é™ã®æ¨©é™ã®ã¿ã‚’ä»˜ä¸ã›ã‚ˆã€‚ä¾‹ãˆã°ã€DynamoDB ã‹ã‚‰ã®èª­ã¿å–ã‚Šã ã‘ãŒå¿…è¦ãªã‚‰ã€`dynamodb:GetItem`æ¨©é™ã®ã¿ã‚’è¨±å¯ã—ã€`dynamodb:*`ã®ã‚ˆã†ãªãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã¯çµ¶å¯¾ã«ä½¿ç”¨ã™ã‚‹ãªã€‚
- **é–‹ç™ºç”¨ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¨©é™ç®¡ç†:** é–‹ç™ºç”¨ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯`KanjiNaviTerraformMinimal`ãƒãƒªã‚·ãƒ¼ã‚’é©ç”¨ã—ã€AdministratorAccess ã¯çµ¶å¯¾ã«ä½¿ç”¨ã™ã‚‹ãªã€‚å¿…è¦æœ€å°é™ã®æ¨©é™ï¼ˆDynamoDBã€Lambdaã€API Gatewayã€IAM æ“ä½œï¼‰ã®ã¿ã‚’è¨±å¯ã›ã‚ˆã€‚
- **ãƒªãƒ¼ã‚¸ãƒ§ãƒ³åˆ¶é™:** IAM ãƒãƒªã‚·ãƒ¼ã«ã¯`aws:RequestedRegion`æ¡ä»¶ã‚’è¿½åŠ ã—ã€ap-northeast-1 ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®æ“ä½œã«é™å®šã›ã‚ˆï¼ˆãŸã ã—ã€IAM ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã®ãŸã‚åˆ¥é€”è€ƒæ…®ãŒå¿…è¦ï¼‰ã€‚

### 4. ç§˜å¯†æƒ…å ± (Secrets) ã®ç®¡ç†

- **ã‚³ãƒ¼ãƒ‰ã«ç§˜å¯†ã‚’åŸ‹ã‚è¾¼ã‚€ãª:** API ã‚­ãƒ¼ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼æƒ…å ±ãªã©ã®ç§˜å¯†æƒ…å ±ã¯ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚„ç’°å¢ƒå¤‰æ•°ã«ç›´æ¥è¨˜è¿°ã™ã‚‹ã“ã¨ã‚’ç¦æ­¢ã™ã‚‹ã€‚
- **Secrets Manager ã‚’åˆ©ç”¨ã›ã‚ˆ:** å…¨ã¦ã®ç§˜å¯†æƒ…å ±ã¯ AWS Secrets Manager ã¾ãŸã¯ Parameter Store (SecureString) ã«æ ¼ç´ã—ã€Lambda ã‹ã‚‰ã¯å®Ÿè¡Œæ™‚ã® IAM Role ã‚’é€šã˜ã¦å‹•çš„ã«å–å¾—ã›ã‚ˆã€‚

### 5. ä¾å­˜é–¢ä¿‚ã®ç®¡ç†

- **è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã‚’ç¾©å‹™ä»˜ã‘ã‚ˆ:** Go ã®`go.mod`ã§ç®¡ç†ã•ã‚Œã‚‹å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒã®ãƒªã‚¹ã‚¯æºã§ã‚ã‚‹ã€‚GitHub Actions ãªã©ã§ Dependabot ã‚„ Snyk ã®ã‚ˆã†ãªè„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ„ã¿è¾¼ã¿ã€è„†å¼±æ€§ãŒç™ºè¦‹ã•ã‚ŒãŸå ´åˆã¯ãƒãƒ¼ã‚¸ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã›ã‚ˆã€‚

### 6. ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° (Go)

- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å¾¹åº•ã›ã‚ˆ:** Go ã®ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã™ã‚‹ãªã€‚å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã€äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”ã•ãšã€ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ­ã‚®ãƒ³ã‚°ã›ã‚ˆã€‚
- **SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–:** ï¼ˆä»Šå›ã¯ DynamoDB ã®ãŸã‚è©²å½“ã—ãªã„ãŒï¼‰SQL ã‚’æ‰±ã†å ´åˆã¯ã€å¿…ãšãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ã‚’ç”¨ã„ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒªã‚’ä½¿ç”¨ã—ã€æ–‡å­—åˆ—çµåˆã§ SQL æ–‡ã‚’çµ„ã¿ç«‹ã¦ã‚‹ãªã€‚

### 7. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã¨ã—ã¦ã®ã‚³ãƒ¼ãƒ‰ (IaC)

- **Terraform çŠ¶æ…‹ç®¡ç†ã®ä¸­å¤®åŒ–:** çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.tfstateï¼‰ã¯å¿…ãš S3 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã€DynamoDB ã«ã‚ˆã‚‹ãƒ­ãƒƒã‚¯æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã›ã‚ˆã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®çŠ¶æ…‹ç®¡ç†ã¯ç¦æ­¢ã™ã‚‹ã€‚
- **S3 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:** çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ç”¨ S3 ãƒã‚±ãƒƒãƒˆã«ã¯æš—å·åŒ–ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ã‚’å¿…ãšè¨­å®šã›ã‚ˆã€‚
- **ç’°å¢ƒåˆ†é›¢:** é–‹ç™ºç’°å¢ƒï¼ˆdevï¼‰ã¨æœ¬ç•ªç’°å¢ƒï¼ˆprdï¼‰ã¯å®Œå…¨ã«åˆ†é›¢ã—ã€çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚åˆ¥ã€…ã®ã‚­ãƒ¼ã§ç®¡ç†ã›ã‚ˆã€‚
- **ã‚¤ãƒ³ãƒ•ãƒ©å¤‰æ›´ã®å¯è¦–åŒ–:** terraform plan ã®å®Ÿè¡Œçµæœã¯å¿…ãšç¢ºèªã—ã€æ„å›³ã—ãªã„ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ã‚„å¤‰æ›´ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ã‹ã‚‰ apply ã‚’å®Ÿè¡Œã›ã‚ˆã€‚

#### èªè¨¼ãƒ»èªå¯å®Ÿè£…

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¤œè¨¼

```go
func extractOrganizerID(event events.APIGatewayProxyRequest) (string, error) {
    organizerID := event.Headers["x-organizer-id"]
    if organizerID == "" {
        return "", fmt.Errorf("missing required header: x-organizer-id")
    }

    // UUIDãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼
    if !isValidUUID(organizerID) {
        return "", fmt.Errorf("invalid organizer ID format")
    }

    return organizerID, nil
}
```

#### ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

```go
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯
func (r *EventRepository) validateAccess(eventID, organizerID string) error {
    event, err := r.GetEvent(eventID)
    if err != nil {
        return err
    }

    if event.OrganizerID != organizerID {
        return fmt.Errorf("access denied: event belongs to different organizer")
    }

    return nil
}
```

### å…¥åŠ›å€¤æ¤œè¨¼

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£æ¤œè¨¼

```go
func validateCreateEventRequest(req CreateEventRequest) error {
    if strings.TrimSpace(req.Title) == "" {
        return fmt.Errorf("title is required")
    }

    if len(req.Title) > 100 {
        return fmt.Errorf("title must be 100 characters or less")
    }

    // HTML ã‚¿ã‚°ã®é™¤å»ãƒ»ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
    req.Title = html.EscapeString(strings.TrimSpace(req.Title))

    return nil
}
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### ã‚»ã‚­ãƒ¥ã‚¢ãªã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹

```go
func handleError(err error) events.APIGatewayProxyResponse {
    // è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã¯ãƒ­ã‚°ã«è¨˜éŒ²
    log.Printf("Error occurred: %v", err)

    // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã¯æ±ç”¨çš„ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿è¿”ã™
    return events.APIGatewayProxyResponse{
        StatusCode: 500,
        Headers: map[string]string{
            "Content-Type": "application/json",
            "Access-Control-Allow-Origin": "*",
        },
        Body: `{"error": "Internal server error"}`,
    }
}
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ»å“è³ªä¿è¨¼

### å˜ä½“ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```bash
internal/
â”œâ”€â”€ handler/
â”‚   â”œâ”€â”€ event.go
â”‚   â””â”€â”€ event_test.go      # ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
â””â”€â”€ repository/
    â”œâ”€â”€ dynamodb.go
    â””â”€â”€ dynamodb_test.go   # ãƒªãƒã‚¸ãƒˆãƒªãƒ†ã‚¹ãƒˆ
```

#### ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹

```go
func TestCreateEvent_Success(t *testing.T) {
    // Given
    mockRepo := &MockEventRepository{}
    handler := &EventHandler{repo: mockRepo}

    request := CreateEventRequest{
        Title:    "ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆ",
        Purpose:  "ãƒãƒ¼ãƒ ãƒ“ãƒ«ãƒ‡ã‚£ãƒ³ã‚°",
    }

    // When
    event, err := handler.CreateEvent(request, "test-organizer-123")

    // Then
    assert.NoError(t, err)
    assert.Equal(t, "ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆ", event.Title)
    assert.Equal(t, "test-organizer-123", event.OrganizerID)
}
```

### çµ±åˆãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### cURL ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ

```bash
#!/bin/bash
# test/integration/events.sh

BASE_URL="https://sepimmk54m.execute-api.ap-northeast-1.amazonaws.com/dev"
ORGANIZER_ID="test-organizer-123"

echo "=== Event API Integration Test ==="

# ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆãƒ†ã‚¹ãƒˆ
EVENT_ID=$(curl -s -X POST "$BASE_URL/events" \
  -H "Content-Type: application/json" \
  -H "x-organizer-id: $ORGANIZER_ID" \
  -d '{"title":"Integration Test Event","purpose":"testing"}' \
  | jq -r '.id')

echo "Created event: $EVENT_ID"

# ã‚¤ãƒ™ãƒ³ãƒˆå–å¾—ãƒ†ã‚¹ãƒˆ
curl -s "$BASE_URL/events/$EVENT_ID" \
  -H "x-organizer-id: $ORGANIZER_ID" \
  | jq .

echo "Integration test completed"
```

---

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. Lambda ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `InvalidParameterValueException: Unzipped size must be smaller than xxx bytes`

**è§£æ±ºæ–¹æ³•**:

```bash
# ãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºã®ç¢ºèª
ls -la build/bootstrap

# æœ€é©åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ç¢ºèª
GOOS=linux GOARCH=amd64 CGO_ENABLED=0 \
go build -ldflags="-s -w" \
-o build/bootstrap cmd/api/{function-name}/main.go
```

#### 2. DynamoDB ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `AccessDeniedException: User: arn:aws:sts::xxx is not authorized`

**è§£æ±ºæ–¹æ³•**:

```bash
# IAMæ¨©é™ã®ç¢ºèª
aws iam list-attached-role-policies \
--role-name kanji-log-lambda-execution-role-dev

# Terraformå†é©ç”¨
cd iac/environments/dev
terraform plan
terraform apply
```

#### 3. API Gateway CORS ã‚¨ãƒ©ãƒ¼

**ç—‡çŠ¶**: `Access to XMLHttpRequest has been blocked by CORS policy`

**è§£æ±ºæ–¹æ³•**:

```go
// Lambda ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®ç¢ºèª
headers := map[string]string{
    "Access-Control-Allow-Origin":  "*",
    "Access-Control-Allow-Headers": "Content-Type,x-organizer-id",
    "Access-Control-Allow-Methods": "GET,POST,PUT,DELETE,OPTIONS",
}
```

### ãƒ‡ãƒãƒƒã‚°æ‰‹é †

#### 1. ãƒ­ã‚°ç¢ºèª

```bash
# Lambdaé–¢æ•°ã®ãƒ­ã‚°ã‚’ç›£è¦–
aws logs tail /aws/lambda/kanji-log-{function-name}-dev \
  --follow --region ap-northeast-1

# ç‰¹å®šæ™‚é–“ç¯„å›²ã®ãƒ­ã‚°å–å¾—
aws logs filter-log-events \
  --log-group-name "/aws/lambda/kanji-log-{function-name}-dev" \
  --start-time $(date -d "1 hour ago" +%s)000 \
  --region ap-northeast-1
```

#### 2. API Gateway ãƒ†ã‚¹ãƒˆ

```bash
# API Gateway ã®ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½ã‚’ä½¿ç”¨
aws apigateway test-invoke-method \
  --rest-api-id {api-id} \
  --resource-id {resource-id} \
  --http-method POST \
  --path-with-query-string "/events" \
  --body '{"title":"Test Event"}' \
  --headers '{"x-organizer-id":"test-123"}'
```

#### 3. DynamoDB ãƒ‡ãƒ¼ã‚¿ç¢ºèª

```bash
# ãƒ†ãƒ¼ãƒ–ãƒ«å†…å®¹ã®ç¢ºèª
aws dynamodb scan \
  --table-name kanji-log-events-dev \
  --region ap-northeast-1

# ç‰¹å®šã‚¢ã‚¤ãƒ†ãƒ ã®å–å¾—
aws dynamodb get-item \
  --table-name kanji-log-events-dev \
  --key '{"id":{"S":"event-id-here"}}' \
  --region ap-northeast-1
```

---

## ğŸ“ å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### Go è¨€èªé–¢é€£

#### æ¨å¥¨å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

- [Effective Go](https://go.dev/doc/effective_go): Go è¨€èªã®æ…£ç”¨çš„ãªæ›¸ãæ–¹
- [Go Code Review Comments](https://github.com/golang/go/wiki/CodeReviewComments): ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- [AWS SDK for Go v2 Developer Guide](https://aws.github.io/aws-sdk-go-v2/docs/): AWS çµ±åˆ

#### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

```go
// âœ… è‰¯ã„ä¾‹: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
func (r *EventRepository) CreateEvent(event domain.Event) error {
    item, err := attributevalue.MarshalMap(event)
    if err != nil {
        return fmt.Errorf("failed to marshal event: %w", err)
    }

    _, err = r.dynamodb.PutItem(context.TODO(), &dynamodb.PutItemInput{
        TableName: aws.String(r.tableName),
        Item:      item,
    })
    if err != nil {
        return fmt.Errorf("failed to put item to DynamoDB: %w", err)
    }

    return nil
}

// âŒ æ‚ªã„ä¾‹: ã‚¨ãƒ©ãƒ¼ã®ç„¡è¦–
func (r *EventRepository) CreateEvent(event domain.Event) error {
    item, _ := attributevalue.MarshalMap(event) // ã‚¨ãƒ©ãƒ¼ç„¡è¦–
    r.dynamodb.PutItem(context.TODO(), &dynamodb.PutItemInput{
        TableName: aws.String(r.tableName),
        Item:      item,
    })
    return nil
}
```

### AWS Lambda é–¢é€£

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

- **Cold Start å¯¾ç­–**: åˆæœŸåŒ–å‡¦ç†ã‚’ global ã‚¹ã‚³ãƒ¼ãƒ—ã§å®Ÿè¡Œ
- **ãƒ¡ãƒ¢ãƒªè¨­å®š**: 256MBï¼ˆCPU æ€§èƒ½ã¨ã®ãƒãƒ©ãƒ³ã‚¹ï¼‰
- **ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š**: 30 ç§’ï¼ˆé€šå¸¸ã¯ 5 ç§’ä»¥å†…ã§å®Œäº†ï¼‰

```go
// âœ… Cold Startå¯¾ç­–ã®ä¾‹
var (
    dynamoClient *dynamodb.Client
    repo         *repository.EventRepository
)

func init() {
    // LambdaåˆæœŸåŒ–æ™‚ã«ä¸€åº¦ã ã‘å®Ÿè¡Œ
    cfg, err := config.LoadDefaultConfig(context.TODO(), config.WithRegion("ap-northeast-1"))
    if err != nil {
        log.Fatalf("unable to load SDK config: %v", err)
    }

    dynamoClient = dynamodb.NewFromConfig(cfg)
    repo = repository.NewEventRepository(dynamoClient, os.Getenv("TABLE_NAME"))
}

func handler(ctx context.Context, event events.APIGatewayProxyRequest) (events.APIGatewayProxyResponse, error) {
    // ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å‡¦ç†ã§å†åˆ©ç”¨
    return processRequest(event)
}
```

### Terraform é–¢é€£

#### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

```hcl
# âœ… è‰¯ã„ä¾‹: æ±ç”¨çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ
module "user_management_lambda" {
  source        = "../../modules/lambda"
  function_name = "kanji-log-user-management"
  environment   = var.environment
  role_arn      = module.iam.lambda_execution_role_arn
  source_file   = var.lambda_zip_path

  # é–¢æ•°å›ºæœ‰ã®ç’°å¢ƒå¤‰æ•°
  environment_variables = {
    TABLE_NAME = module.dynamodb.table_name
    API_URL    = var.external_api_url
  }

  # ã‚«ã‚¹ã‚¿ãƒ è¨­å®šï¼ˆå¿…è¦æ™‚ï¼‰
  memory_size = 512
  timeout     = 60
}

# âŒ æ‚ªã„ä¾‹: é–¢æ•°å›ºæœ‰ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
resource "aws_lambda_function" "user_management_only" {
  function_name = "kanji-log-user-management-dev"
  # ä»–ã®é–¢æ•°ã§ã¯å†åˆ©ç”¨ä¸å¯
}
```

---

## ğŸ“ ä½œæ¥­ãƒ­ã‚°ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

### ä½œæ¥­ãƒ­ã‚°ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

````markdown
# Task-XXX: [ã‚¿ã‚¹ã‚¯å]

## ğŸ“‹ ä½œæ¥­æ¦‚è¦

- **ç›®çš„**:
- **æ‹…å½“è€…**:
- **å®Ÿæ–½æ—¥**:
- **æ¨å®šå·¥æ•°**:
- **å®Ÿéš›å·¥æ•°**:

## ğŸ¯ è¦ä»¶ãƒ»ä»•æ§˜

[ã‚¿ã‚¹ã‚¯ã§å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½ã®è©³ç´°]

## ğŸ› ï¸ å®Ÿè£…å†…å®¹

### æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«

- `path/to/file.go`: æ©Ÿèƒ½èª¬æ˜

### ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«

- `path/to/file.go`: ä¿®æ­£å†…å®¹

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
make build lambda=new-feature
make dev-deploy lambda=new-feature
```
````

## ğŸ§ª ãƒ†ã‚¹ãƒˆçµæœ

[API ãƒ†ã‚¹ãƒˆçµæœã€å‹•ä½œç¢ºèªçµæœ]

## âš ï¸ ç™ºç”Ÿã—ãŸå•é¡Œãƒ»è§£æ±ºæ–¹æ³•

[ã‚¨ãƒ©ãƒ¼å†…å®¹ã¨è§£æ±ºæ‰‹é †]

## ğŸ“š å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆãƒ»æ°—ã¥ã

[ä»Šå›ã®ä½œæ¥­ã§å¾—ã‚‰ã‚ŒãŸçŸ¥è¦‹]

## ğŸ”„ æ¬¡ã‚¿ã‚¹ã‚¯ã¸ã®å¼•ãç¶™ãäº‹é …

[æ¬¡ã®ä½œæ¥­è€…ãŒçŸ¥ã£ã¦ãŠãã¹ãæƒ…å ±]

````

### ã‚³ãƒ¼ãƒ‰ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„

#### é–¢æ•°ãƒ¬ãƒ™ãƒ«
```go
// CreateEvent ã¯æ–°ã—ã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆã—ã€DynamoDBã«ä¿å­˜ã—ã¾ã™ã€‚
//
// å¼•æ•°:
//   - request: ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€ç›®çš„ç­‰ï¼‰
//   - organizerID: ã‚¤ãƒ™ãƒ³ãƒˆä¸»å‚¬è€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
//
// æˆ»ã‚Šå€¤:
//   - domain.Event: ä½œæˆã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±
//   - error: ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã®ã‚¨ãƒ©ãƒ¼æƒ…å ±
//
// å¹¹äº‹ãƒŠãƒ“ã§ã®ä½¿ç”¨å ´é¢:
//   - ã€Œæ–°ã—ã„é£²ã¿ä¼šã‚’ä¼ç”»ã™ã‚‹ã€ç”»é¢ã§ã®ä¿å­˜å‡¦ç†
//   - Webãƒ•ã‚©ãƒ¼ãƒ URLç”Ÿæˆã®å‰ææ¡ä»¶ã¨ãªã‚‹ã‚¤ãƒ™ãƒ³ãƒˆä½œæˆ
func (h *EventHandler) CreateEvent(request CreateEventRequest, organizerID string) (domain.Event, error) {
````

#### è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯

```go
// ä¼šè¨ˆè¨ˆç®—ã«ãŠã‘ã‚‹å‰²ã‚Šå‹˜ãƒ­ã‚¸ãƒƒã‚¯
// 1å††å˜ä½ã®ç«¯æ•°ã¯å¹¹äº‹ãŒè² æ‹…ã™ã‚‹ã“ã¨ã§ã€å‚åŠ è€…ã®è² æ‹…ã‚’è»½æ¸›
func calculateSplitBill(totalAmount int, memberCount int) (perPerson int, organizerExtra int) {
    perPerson = totalAmount / memberCount
    organizerExtra = totalAmount % memberCount

    // å¹¹äº‹ã®å¿ƒç†çš„è² æ‹…è»½æ¸›ã®ãŸã‚ã€å‚åŠ è€…ã®è² æ‹…ã¯æ˜ç¢ºãªé‡‘é¡ã§çµ±ä¸€
    return perPerson, organizerExtra
}
```

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
kanji-log/
â”œâ”€â”€ backend/                  // ğŸ§  ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼ˆGoï¼‰
â”‚   â”œâ”€â”€ cmd/                  // å®Ÿè¡Œå¯èƒ½ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ api/              // Lambdaé–¢æ•°ã”ã¨ã®main.goã‚’æ ¼ç´
â”‚   â”‚   â”‚   â”œâ”€â”€ create-event/
â”‚   â”‚   â”‚   â””â”€â”€ get-event/
â”‚   â”‚   â””â”€â”€ batch/            // ãƒãƒƒãƒå‡¦ç†ç”¨ã®main.go
â”‚   â”œâ”€â”€ internal/             // å†…éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
â”‚   â”‚   â”œâ”€â”€ domain/           // ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ï¼ˆEvent, Userãªã©ï¼‰
â”‚   â”‚   â”œâ”€â”€ handler/          // Lambdaã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ repository/       // ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ï¼ˆDynamoDBï¼‰ã¨ã®ã‚„ã‚Šå–ã‚Š
â”‚   â”‚   â””â”€â”€ config/           // è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ pkg/                  // å¤–éƒ¨å…¬é–‹å¯èƒ½ãªæ±ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆä»Šå›ã¯åŸºæœ¬ä½¿ã‚ãªã„ï¼‰
â”‚   â”œâ”€â”€ go.mod                // Goãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®šç¾©
â”‚   â””â”€â”€ go.sum                // ä¾å­˜é–¢ä¿‚ã®ãƒã‚§ãƒƒã‚¯ã‚µãƒ 
â”œâ”€â”€ iac/                      // ğŸ›ï¸ ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç† (IaC)
â”‚   â”œâ”€â”€ _bootstrap/           // TerraformçŠ¶æ…‹ç®¡ç†ç”¨ã‚¤ãƒ³ãƒ•ãƒ©
â”‚   â”‚   â”œâ”€â”€ iam_policies/     // IAMæ¨©é™ç®¡ç†ï¼ˆæœ€å°æ¨©é™ãƒãƒªã‚·ãƒ¼ï¼‰
â”‚   â”‚   â””â”€â”€ state_backend/    // S3ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»DynamoDBãƒ­ãƒƒã‚¯è¨­å®š
â”‚   â”œâ”€â”€ environments/         // ç’°å¢ƒã”ã¨ã®è¨­å®š
â”‚   â”‚   â”œâ”€â”€ dev/              // é–‹ç™ºç’°å¢ƒï¼ˆS3ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¯¾å¿œæ¸ˆã¿ï¼‰
â”‚   â”‚   â””â”€â”€ prd/              // æœ¬ç•ªç’°å¢ƒ
â”‚   â”œâ”€â”€ modules/              // å†åˆ©ç”¨å¯èƒ½ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ api_gateway/
â”‚   â”‚   â”œâ”€â”€ cognito/
â”‚   â”‚   â”œâ”€â”€ dynamodb/
â”‚   â”‚   â”œâ”€â”€ iam/
â”‚   â”‚   â””â”€â”€ lambda/
â”‚   â””â”€â”€ README.md             // IaCè©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ .github/                  // CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ (GitHub Actions)
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ deploy-backend.yml
â”‚       â””â”€â”€ deploy-iac.yml
```

## é–‹ç™ºä¸Šã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

### 1\. èªè¨¼ (Authentication) ã¨èªå¯ (Authorization)

- **èªè¨¼ã¯ Cognito ã«ä¸€ä»»ã›ã‚ˆ:** èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’è‡ªå‰ã§å®Ÿè£…ã™ã‚‹ãªã€‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ã€ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã€MFAã€SNS é€£æºã¯ã™ã¹ã¦ Cognito ã®è²¬å‹™ã¨ã™ã‚‹ã€‚
- **API Gateway ã§èªè¨¼ã‚’å¼·åˆ¶ã›ã‚ˆ:** å…¨ã¦ã®æ©Ÿå¯† API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ã€API Gateway ã® Cognito ã‚ªãƒ¼ã‚½ãƒ©ã‚¤ã‚¶ãƒ¼ã§ä¿è­·ã—ã€æœªèªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ Lambda ã«åˆ°é”ã™ã‚‹å‰ã«ãƒ–ãƒ­ãƒƒã‚¯ã›ã‚ˆã€‚
- **èªå¯ã¯ Lambda ã®è²¬å‹™ã§ã‚ã‚‹:** Lambda é–¢æ•°å†…ã§ã¯ã€èªè¨¼ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆ`sub`ï¼‰ãŒã€æ“ä½œå¯¾è±¡ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆä¾‹: `eventId`ï¼‰ã«å¯¾ã—ã¦\*\*ä½•ã‚’ã—ã¦è‰¯ã„ã‹ï¼ˆèªå¯ï¼‰\*\*ã‚’å¿…ãšæ¤œè¨¼ã›ã‚ˆã€‚ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ A ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ B ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã§ããªã„ã‹ï¼Ÿã€ã‚’å¸¸ã«å•ã„ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§ãƒã‚§ãƒƒã‚¯ã›ã‚ˆã€‚

### 2\. å…¥åŠ›å€¤ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

- **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å¿…ãšæ¤œè¨¼ã›ã‚ˆ:** ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®å…¥åŠ›ã¯ä¸€åˆ‡ä¿¡ç”¨ã™ã‚‹ãªã€‚API Gateway ã®ãƒ¢ãƒ‡ãƒ«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ãŠã‚ˆã³ Lambda é–¢æ•°å†’é ­ã§ã€å…¨ã¦ã®å…¥åŠ›å€¤ï¼ˆãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã‚¯ã‚¨ãƒªã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ï¼‰ã®å‹ã€å½¢å¼ã€ç¯„å›²ã‚’å³å¯†ã«æ¤œè¨¼ã›ã‚ˆã€‚
- **ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆã§ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã›ã‚ˆ:** å…¨ã¦ã®å…¥åŠ›ã¯æ”»æ’ƒã§ã‚ã‚‹ã¨ä»®å®šã—ã€å‡ºåŠ›ï¼ˆç‰¹ã« HTML ã‚„ãƒ­ã‚°ï¼‰ã«å«ã‚ã‚‹éš›ã¯å¿…ãšã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã¾ãŸã¯ã‚µãƒ‹ã‚¿ã‚¤ã‚ºå‡¦ç†ã‚’è¡Œãˆã€‚

### 3\. æ¨©é™ç®¡ç† (IAM)

- **æœ€å°æ¨©é™ã®åŸå‰‡ã‚’å¾¹åº•ã›ã‚ˆ:** å„ Lambda é–¢æ•°ã«ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ IAM Role ã«ã¯ã€ãã®é–¢æ•°ãŒå¿…è¦ã¨ã™ã‚‹æœ€å°é™ã®æ¨©é™ã®ã¿ã‚’ä»˜ä¸ã›ã‚ˆã€‚ä¾‹ãˆã°ã€DynamoDB ã‹ã‚‰ã®èª­ã¿å–ã‚Šã ã‘ãŒå¿…è¦ãªã‚‰ã€`dynamodb:GetItem`æ¨©é™ã®ã¿ã‚’è¨±å¯ã—ã€`dynamodb:*`ã®ã‚ˆã†ãªãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã¯çµ¶å¯¾ã«ä½¿ç”¨ã™ã‚‹ãªã€‚
- **é–‹ç™ºç”¨ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¨©é™ç®¡ç†:** é–‹ç™ºç”¨ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¯`KanjiNaviTerraformMinimal`ãƒãƒªã‚·ãƒ¼ã‚’é©ç”¨ã—ã€AdministratorAccess ã¯çµ¶å¯¾ã«ä½¿ç”¨ã™ã‚‹ãªã€‚å¿…è¦æœ€å°é™ã®æ¨©é™ï¼ˆDynamoDBã€Lambdaã€API Gatewayã€IAM æ“ä½œï¼‰ã®ã¿ã‚’è¨±å¯ã›ã‚ˆã€‚
- **ãƒªãƒ¼ã‚¸ãƒ§ãƒ³åˆ¶é™:** IAM ãƒãƒªã‚·ãƒ¼ã«ã¯`aws:RequestedRegion`æ¡ä»¶ã‚’è¿½åŠ ã—ã€ap-northeast-1 ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®æ“ä½œã«é™å®šã›ã‚ˆï¼ˆãŸã ã—ã€IAM ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã®ãŸã‚åˆ¥é€”è€ƒæ…®ãŒå¿…è¦ï¼‰ã€‚

### 4\. ç§˜å¯†æƒ…å ± (Secrets) ã®ç®¡ç†

- **ã‚³ãƒ¼ãƒ‰ã«ç§˜å¯†ã‚’åŸ‹ã‚è¾¼ã‚€ãª:** API ã‚­ãƒ¼ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èªè¨¼æƒ…å ±ãªã©ã®ç§˜å¯†æƒ…å ±ã¯ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚„ç’°å¢ƒå¤‰æ•°ã«ç›´æ¥è¨˜è¿°ã™ã‚‹ã“ã¨ã‚’ç¦æ­¢ã™ã‚‹ã€‚
- **Secrets Manager ã‚’åˆ©ç”¨ã›ã‚ˆ:** å…¨ã¦ã®ç§˜å¯†æƒ…å ±ã¯ AWS Secrets Manager ã¾ãŸã¯ Parameter Store (SecureString) ã«æ ¼ç´ã—ã€Lambda ã‹ã‚‰ã¯å®Ÿè¡Œæ™‚ã® IAM Role ã‚’é€šã˜ã¦å‹•çš„ã«å–å¾—ã›ã‚ˆã€‚

###ã€€ 5\. ä¾å­˜é–¢ä¿‚ã®ç®¡ç†

- **è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã‚’ç¾©å‹™ä»˜ã‘ã‚ˆ:** Go ã®`go.mod`ã§ç®¡ç†ã•ã‚Œã‚‹å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³æ”»æ’ƒã®ãƒªã‚¹ã‚¯æºã§ã‚ã‚‹ã€‚GitHub Actions ãªã©ã§ Dependabot ã‚„ Snyk ã®ã‚ˆã†ãªè„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«çµ„ã¿è¾¼ã¿ã€è„†å¼±æ€§ãŒç™ºè¦‹ã•ã‚ŒãŸå ´åˆã¯ãƒãƒ¼ã‚¸ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã›ã‚ˆã€‚

### 6\. ã‚»ã‚­ãƒ¥ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° (Go)

- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å¾¹åº•ã›ã‚ˆ:** Go ã®ã‚¨ãƒ©ãƒ¼ã¯ç„¡è¦–ã™ã‚‹ãªã€‚å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã€äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”ã•ãšã€ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒ­ã‚®ãƒ³ã‚°ã›ã‚ˆã€‚
- **SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–:** ï¼ˆä»Šå›ã¯ DynamoDB ã®ãŸã‚è©²å½“ã—ãªã„ãŒï¼‰SQL ã‚’æ‰±ã†å ´åˆã¯ã€å¿…ãšãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ã‚’ç”¨ã„ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒªã‚’ä½¿ç”¨ã—ã€æ–‡å­—åˆ—çµåˆã§ SQL æ–‡ã‚’çµ„ã¿ç«‹ã¦ã‚‹ãªã€‚

### 7\. ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã¨ã—ã¦ã®ã‚³ãƒ¼ãƒ‰ (IaC)

- **Terraform çŠ¶æ…‹ç®¡ç†ã®ä¸­å¤®åŒ–:** çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.tfstateï¼‰ã¯å¿…ãš S3 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†ã—ã€DynamoDB ã«ã‚ˆã‚‹ãƒ­ãƒƒã‚¯æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã›ã‚ˆã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®çŠ¶æ…‹ç®¡ç†ã¯ç¦æ­¢ã™ã‚‹ã€‚
- **S3 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:** çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ç”¨ S3 ãƒã‚±ãƒƒãƒˆã«ã¯æš—å·åŒ–ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ã‚’å¿…ãšè¨­å®šã›ã‚ˆã€‚
- **ç’°å¢ƒåˆ†é›¢:** é–‹ç™ºç’°å¢ƒï¼ˆdevï¼‰ã¨æœ¬ç•ªç’°å¢ƒï¼ˆprdï¼‰ã¯å®Œå…¨ã«åˆ†é›¢ã—ã€çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚åˆ¥ã€…ã®ã‚­ãƒ¼ã§ç®¡ç†ã›ã‚ˆã€‚
- **ã‚¤ãƒ³ãƒ•ãƒ©å¤‰æ›´ã®å¯è¦–åŒ–:** terraform plan ã®å®Ÿè¡Œçµæœã¯å¿…ãšç¢ºèªã—ã€æ„å›³ã—ãªã„ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ã‚„å¤‰æ›´ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ã‹ã‚‰ apply ã‚’å®Ÿè¡Œã›ã‚ˆã€‚
